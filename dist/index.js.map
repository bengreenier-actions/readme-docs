{"version":3,"file":"index.js","sources":["../webpack://readme-docs/webpack/bootstrap","../webpack://readme-docs/webpack/runtime/make namespace object","../webpack://readme-docs/webpack/runtime/compat","../webpack://readme-docs/./lib/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nif (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = __dirname + \"/\";","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst core = __importStar(require(\"@actions/core\"));\r\nconst lib_1 = require(\"./lib\");\r\n/// action.yml name mappings\r\n// allows us to change the yaml without rewriting code\r\nconst paramNames = {\r\n    apiKey: 'apiKey',\r\n    version: 'version',\r\n    categorySlug: 'categorySlug',\r\n    titleRegex: 'titleRegex',\r\n    path: 'path',\r\n    additionalJson: 'additionalJson',\r\n    create: 'create',\r\n    overwrite: 'overwrite',\r\n    clear: 'clear'\r\n};\r\nclass InputMissingError extends Error {\r\n    constructor(inputName) {\r\n        super(`❌ Missing required input: ${inputName}`);\r\n    }\r\n}\r\nfunction run() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            // parse the inputs\r\n            const inputs = Object.entries(paramNames).reduce((prev, curr) => {\r\n                const nxt = Object.assign({}, prev);\r\n                const [paramId, inputName] = curr;\r\n                nxt[paramId] = core.getInput(inputName);\r\n                return nxt;\r\n            }, {});\r\n            // check the inputs\r\n            // this assumes that non-required action.yml inputs have default values\r\n            for (const paramId in paramNames) {\r\n                if (!inputs[paramId] ||\r\n                    inputs[paramId].length === 0) {\r\n                    throw new InputMissingError(paramId);\r\n                }\r\n            }\r\n            // execute work\r\n            yield (0, lib_1.processRequest)(inputs);\r\n            core.info('🚀 Complete.');\r\n        }\r\n        catch (error) {\r\n            if (error instanceof Error) {\r\n                core.setFailed(error.message);\r\n            }\r\n            else if (typeof error === 'object') {\r\n                core.setFailed(`Failed with error: ${JSON.stringify(error)}`);\r\n            }\r\n            else {\r\n                core.setFailed(`Failed with error: ${error}`);\r\n            }\r\n        }\r\n    });\r\n}\r\nprocess.on('exit', (code) => {\r\n    if (code !== 0) {\r\n        core.setFailed(`Exiting with code: ${code}`);\r\n    }\r\n    else {\r\n        core.info(`Exiting with code: ${code}`);\r\n    }\r\n});\r\n// begin - actions entrypoint\r\n// eslint-disable-next-line github/no-then\r\nrun().catch(error => core.setFailed(`Failed with error: ${error}`));\r\n"],"mappings":";;AAAA;AACA;AACA;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACNA;AACA;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}